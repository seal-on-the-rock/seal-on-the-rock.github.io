---
layout: post
title: "article0004-LAMP"
date: 2025-10-23
author: Seal
---


# ☁️ article0005　LAMP

久しぶりです。

今日はよくあるフレームワーク　LAMP　の構成を紹介します。

先ずは、LAMPとは何ですか？

LAMP　＝　Linux　＋　Apache　＋　MySQL　＋　PHP　という現代よく使っているWEBシステムの構成フレームワークです。

Linux、MySQLとPHPは置いておいて、先ずはApacheを見てみましょう。

Apache ＝　Apache HTTP Serverです。あれ！server？そうですよね、先ずはApacheはHTTP関連Webシステムに向けてのサービスです。

一方で、AWS　＝　Amazon Web Servicesとのことです。AWSとApacheは同じにサービスとなっています。

しかも、昔Apacheを使って構築されたWebアプリケーションは今の時代でAWSの各サービスで組み立て構築することになります。

Apacheが果たす役割については、以下の主要な七つの機能です。

⑴　静的コンテンツを配信（Static Content）

　　HTMLファイル、画像（.jpg、.png）、CSS、JavaScriptなどそのまま提供する
  
  eg:seal-on-the-rockは僕のAWS技術ブログですが、homeのウェブページはindex.htmlというファイルでそのまま提供させて皆さんが見えるようになりました。
     
  そのindex.htmlファイルで、HTMLがあってCSSがあって、logoのイメージもあって文章のリストを生成するためのJavaScriptもあります。

<br><br>

つまり、静的コンテンツの配達員です！
    
![ApacheからAWSへ]( /assets/images/0005-2.png )

<br><br>

⑵　動的コンテンツの実行

　　Apache自身はプログラムの実行をしませんが、PHPへ渡します。

  <br><br>

  つまり、接客員です！
　　
![ApacheからPHPへ]( /assets/images/0005-3.png )

<br><br>

⑶　逆プロキシReverse Proxy/Load Balancer

　　　⑵のように、Apacheは、ユーザーからのリクエストを別のサーバーやアプリケーションへ転送しています。
   
    これによって、下記の役割を果たします。
       
    ❶ バックエンドのアプリを隠す
           
    ❷ 複数のサーバーへ負荷分散
              
    ❸　SSLの終端になる（HTTPSを解析）

<br><br>              

  　つまり、交通指導員です！

![Apacheからserverへ]( /assets/images/0005-4.png )

<br><br>

⑷　セキュリティー・アクセス制御

　　IPアドレスやユーザー名によっての制限。

    WAFの提供。
    
    （PS：FW → IPアドレスとポート号を基準に通信を制御する。WAF → FWの上で、リクエストの中身を見て攻撃を防ぎます。）  
    
<br><br> 

つまり、入口のチェックマンです！

![ApacheのWAF]( /assets/images/0005-5.png )

<br><br> 

⑸　URLの書き換え、リダイレクト

つまり、案内員です！

![rewrite redirect]( /assets/images/0005-6.png )

<br><br>

⑹　ログ・モニタリング（Logging & Monitoring）

    ❶　すべてのアクセスをaccess.logに記録
   
    ❷　すべてのエラーをerror.logに出力
   
    ❸　状態確認（稼働している接続数や負荷を確認）

   つまり、記録員です！

   ![log monitoring]( /assets/images/0005-7.png )
   
<br><br> 

⑺　Virtual Host

１台のサーバーで複数のサーバーを運用できます。

つまり、不動産の管理者です！

![ virtual host]( /assets/images/0005-8.png )

<br><br>

---

さぁ、これまで、なんか上記のApacheの機能はAWSでそれに対して似ているサービスがあるのを感じていますか？

そうですね。Apache機能の実現は色んなモジュールに頼ります。一方で、AWSの色んなサービスを組み合わせて同じ機能を実現できます。

![ApacheからAWSへ]( /assets/images/0005-1.png )
